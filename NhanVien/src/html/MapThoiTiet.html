<!doctype html>
<html class="loading" lang="en" data-textdirection="ltr">

<head>
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-GR9E710J6X"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-GR9E710J6X');
	</script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
	<meta http-equiv="Pragma" content="no-cache" />
	<meta http-equiv="Expires" content="Mon, 22 Jul 2002 11:12:01 GMT" />
	<meta name="robots" content="index,follow">
	<meta name="Googlebot" content="index,follow">
	<meta name="revisit-after" content="1 days">
	<link rel="manifest" href="https://cms.htxdbscl.vn/manifest.json">
	<title>Trục dữ liệu lớn Nông nghiệp Đồng Bằng Sông Cửu Long</title>
	<meta name="description" content="Văn phòng điều phối nông nghiệp nông thôn vùng ĐBSCL
Mô hình thí điểm (V.05_VPĐP.ĐBSCL/DGK)" />
	<meta name="keywords" content="Văn phòng điều phối nông nghiệp nông thôn vùng ĐBSCL
Mô hình thí điểm (V.05_VPĐP.ĐBSCL/DGK)" />
	<meta name="news_keywords" content="Văn phòng điều phối nông nghiệp nông thôn vùng ĐBSCL
Mô hình thí điểm (V.05_VPĐP.ĐBSCL/DGK)" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-title" content="cms.htxdbscl.vn" />
	<link rel="icon" type="image/x-icon" href="/assets/image/logo.png">

	<link rel="canonical" href="https://cms.htxdbscl.vn/" />
	<meta property="og:site_name" content="cms.htxdbscl.vn" />
	<meta property="og:rich_attachment" content="true" />
	<meta property="og:type" content="article" />
	<meta property="article:publisher" content="https://www.facebook.com/cms.htxdbscl.vn" />
	<meta property="og:url" itemprop="url" content="https://cms.htxdbscl.vn/" />
	<meta property="og:image" itemprop="thumbnailUrl" content="/assets/image/logo.png" />
	<meta property="og:image:width" content="800" />
	<meta property="og:image:height" content="600" />
	<meta content="Trục dữ liệu lớn Nông nghiệp Đồng Bằng Sông Cửu Long" property="og:title" itemprop="headline" />
	<meta content="Văn phòng điều phối nông nghiệp nông thôn vùng ĐBSCL
Mô hình thí điểm (V.05_VPĐP.ĐBSCL/DGK)" property="og:description" itemprop="description" />
	<meta content="Văn phòng điều phối nông nghiệp nông thôn vùng ĐBSCL
Mô hình thí điểm (V.05_VPĐP.ĐBSCL/DGK)" property="article:tag" />
	<meta content="news" itemprop="genre" name="medium" />
	<meta content="EN" itemprop="inLanguage" />
	<meta content="Văn phòng điều phối nông nghiệp nông thôn vùng ĐBSCL
Mô hình thí điểm (V.05_VPĐP.ĐBSCL/DGK)" itemprop="articleSection" />
	<meta content="Văn phòng điều phối nông nghiệp nông thôn vùng ĐBSCL
Mô hình thí điểm (V.05_VPĐP.ĐBSCL/DGK)" itemprop="sourceOrganization" name="source" />
	<meta content="2022-01-01T19:22:56+07:00" itemprop="datePublished" name="pubdate" />
	<meta content="2022-01-01T19:22:56+07:00" itemprop="dateModified" name="lastmod" />
	<meta content="2022-01-01T19:22:56+07:00" itemprop="dateCreated" />
	<meta name="copyright" content="cms.htxdbscl.vn" />
	<meta name="author" content="cms.htxdbscl.vn" />

	<meta name="twitter:card" value="summary" />
	<meta name="twitter:url" content="https://cms.htxdbscl.vn/" />
	<meta name="twitter:title" content="Trục dữ liệu lớn Nông nghiệp Đồng Bằng Sông Cửu Long" />
	<meta name="twitter:description" content="Văn phòng điều phối nông nghiệp nông thôn vùng ĐBSCL
Mô hình thí điểm (V.05_VPĐP.ĐBSCL/DGK)" />
	<meta name="twitter:image" content="/assets/image/logo.png" />
	<meta name="twitter:site" content="cms.htxdbscl.vn" />
	<meta name="twitter:creator" content="cms.htxdbscl.vn" />

	<link rel="apple-touch-icon-precomposed" href="/assets/image/logo.png" sizes="72x72">
	<link rel="apple-touch-icon-precomposed" href="/assets/image/logo.png" sizes="144x144">

	<link rel="apple-touch-icon-precomposed" href="/assets/image/logo.png" sizes="57x57">
	<link rel="apple-touch-icon-precomposed" href="/assets/image/logo.png" sizes="114x114">

	<link rel="nokia-touch-icon" href="/assets/image/logo.png">

	<link rel="apple-touch-icon-precomposed" href="/assets/image/logo.png" sizes="1x1">


	<meta name="its_url" content="https://cms.htxdbscl.vn/" />
	<meta name="its_title" content="Trục dữ liệu lớn Nông nghiệp Đồng Bằng Sông Cửu Long" />
	<meta name="its_section" content="Văn phòng điều phối nông nghiệp nông thôn vùng ĐBSCL
Mô hình thí điểm (V.05_VPĐP.ĐBSCL/DGK)" />
	<meta name="its_subsection" content="Văn phòng điều phối nông nghiệp nông thôn vùng ĐBSCL
Mô hình thí điểm (V.05_VPĐP.ĐBSCL/DGK)" />
	<meta name="its_tag" content="Văn phòng điều phối nông nghiệp nông thôn vùng ĐBSCL
Mô hình thí điểm (V.05_VPĐP.ĐBSCL/DGK)" />
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

	<link rel="stylesheet" href="/assets/fonts/bootstrap/bootstrap-icons.css" />
	<link rel="stylesheet" href="/assets/css/main.min.css" />
	<link rel="stylesheet" href="/assets/vendor/overlay-scroll/OverlayScrollbars.min.css" />

	<link rel="stylesheet" href="/assets/vendor/datatables/dataTables.bs5.css" />
	<link rel="stylesheet" href="/assets/vendor/datatables/dataTables.bs5-custom.css" />
	<link rel="stylesheet" href="/assets/vendor/datatables/buttons/dataTables.bs5-custom.css" />

	<script src="https://cdn.maptiler.com/maptiler-sdk-js/v1.2.0/maptiler-sdk.umd.min.js"></script>
	<link href="https://cdn.maptiler.com/maptiler-sdk-js/v1.2.0/maptiler-sdk.css" rel="stylesheet" />
	<script src="https://cdn.maptiler.com/maptiler-weather/v1.1.0/maptiler-weather.umd.min.js"></script>

	<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>

	<script>
		function OnTopPage() {
			$('html, body').animate({ scrollTop: 0 }, 'slow');
		}
		function OpenWindowByToChuc(URLParamater, w = 100, h = 200) {
			var width = screen.width;
			var height = screen.height;
			var width01 = width - w;
			var height01 = height - h;
			var left = (width - width01) / 2;
			var top = (height - height01) / 3;
			var url = "/#/ToChucInfo/" + URLParamater;
			window.open(url, '_blank', 'location=yes,height=' + height01 + ',width=' + width01 + ',scrollbars=yes,status=yes,toolbar=yes,top=' + top + ',left=' + left + '');
		}
	</script>
</head>

<body>
	<style>
		.table-striped,
		.table-striped td,
		.table-striped th {
			border-color: #000000;
			border-style: solid;
			border-width: 1px;
			padding: 2px;
		}

		.table-striped {
			border-collapse: collapse;
		}

		.mat-sort-header-content {
			color: #000000;
			font-weight: bold;
			font-size: 14px;
			text-transform: uppercase;
			width: 100%;
			padding: 10px;
			padding-top: 0px;
			white-space: nowrap;
			display: flex !important;
			text-align: center !important;
			justify-content: center !important;
		}

		.mat-row .mat-cell {
			padding: 10px;
			font-size: 14px;
			white-space: nowrap;
		}

		.mat-row .mat-cell a {
			font-size: 14px;
			white-space: nowrap;
		}

		.mat-row .mat-cell input {
			font-size: 14px;
		}

		.sticky-col {
			position: sticky;
			left: 0;
		}

		input[type="text"],
		input[type="number"],
		label,
		select,
		option {
			font-size: 14px;
		}

		mat-select div,
		mat-option div {
			font-size: 14px;
		}

		.col-12 {
			margin-top: 10px;
			margin-bottom: 10px;
		}

		#map {
			height: 50%;
			margin: 0;
			padding: 0;
		}

		.app-body {
			padding: 0px;
			padding-left: 5px;
			padding-right: 5px;
		}

		.card {
			padding: 0px;
		}

		#FooterBottom {
			width: 100%;
			padding: 10px;
			position: fixed;
			left: 0px;
			bottom: 0px;
			z-index: 2000;
			box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
			background-color: #ffffff;
		}

		#map {
			position: absolute;
			width: 87%;
		}

		@media (max-width: 768px) {
			#map {
				width: 100%;
			}
		}

		#pointer-data {
			z-index: 1;
			position: fixed;
			font-size: 20px;
			font-weight: 900;
			margin: 27px 0px 0px 10px;
			color: #fff;
			text-shadow: 0px 0px 10px #0007;
		}

		#variable-name {
			z-index: 1;
			position: fixed;
			font-size: 20px;
			font-weight: 500;
			margin: 5px 0px 0px 10px;
			color: #fff;
			text-shadow: 0px 0px 10px #0007;
			text-transform: capitalize;
		}

		#time-info {
			position: fixed;
			width: 60vw;
			bottom: 0;
			z-index: 1;
			margin: 10px;
			text-shadow: 0px 0px 5px black;
			color: white;
			font-size: 18px;
			font-weight: 500;
			text-align: center;
			left: 0;
			right: 0;
			margin: auto;
			padding: 20px;
		}

		#time-text {
			font-size: 12px;
			font-weight: 600;
		}

		#time-slider {
			width: 100%;
			height: fit-content;
			left: 0;
			right: 0;
			z-index: 1;
			filter: drop-shadow(0 0 7px #000a);
			margin-top: 10px;
		}

		#buttons {
			width: auto;
			margin: 0 10px;
			padding: 0;
			position: absolute;
			top: 50px;
			left: 0;
			z-index: 99;
		}

		.button {
			display: block;
			position: relative;
			margin: 10px 0 0 0;
			font-size: 0.9em;
		}
	</style>
	<div class="page-wrapper">
		<div class="main-container">
			<nav id="sidebar" class="sidebar-wrapper">
				<div class="app-brand p-3 mb-3">
					<a href="#">
						<img src="/assets/image/logo.png" class="logo"
							alt="Trục dữ liệu lớn Nông nghiệp Đồng Bằng Sông Cửu Long"
							title="Trục dữ liệu lớn Nông nghiệp Đồng Bằng Sông Cửu Long" /></a>
				</div>
				<div class="sidebarMenuScroll">
					<ul class="sidebar-menu">
						<li>
							<a href="https://cms.htxdbscl.vn/#/Map" title="Bản đồ Tổng hợp">
								<i class="bi bi-globe"></i>
								<span class="menu-text">1.1 Bản đồ Tổng hợp</span>
							</a>
						</li>						
						<li>
							<a href="https://cms.htxdbscl.vn/html/MapThoiTiet.html" title="Bản đồ Thời tiết">
								<i class="bi bi-globe"></i>
								<span class="menu-text">1.2 Bản đồ Thời tiết</span>
							</a>
						</li>
						<li>
							<a href="https://cms.htxdbscl.vn/html/MapNhietGio.html" title="Bản đồ Nhiệt + Gió">
								<i class="bi bi-globe"></i>
								<span class="menu-text">1.3 Bản đồ Nhiệt + Gió</span>
							</a>
						</li>
						<li>
							<a href="https://cms.htxdbscl.vn/html/MapNhietDo.html" title="Bản đồ Nhiệt độ">
								<i class="bi bi-globe"></i>
								<span class="menu-text">1.4 Bản đồ Nhiệt độ</span>
							</a>
						</li>
						<li>
							<a href="https://cms.htxdbscl.vn/html/MapGio.html" title="Bản đồ Gió">
								<i class="bi bi-globe"></i>
								<span class="menu-text">1.5 Bản đồ Gió</span>
							</a>
						</li>
						<li>
							<a href="https://cms.htxdbscl.vn/html/MapMay.html" title="Bản đồ Mây">
								<i class="bi bi-globe"></i>
								<span class="menu-text">1.6 Bản đồ Mây</span>
							</a>
						</li>
					</ul>
				</div>
			</nav>
			<div class="app-container">
				<div class="d-flex align-items-center"
					style="border-bottom-color: #000000; border-bottom-width: 1px; border-bottom-style: solid; padding: 5px;">
					<div class="me-3 icon-box md bg-white rounded-4">
						<i class="bi bi-globe fs-3 text-primary"></i>
					</div>
					<div>
						<h2 class="mb-1" style="font-size: 16px;"><b>Bản đồ Nhiệt độ</b></h2>
					</div>
				</div>
				<div class="app-body">
					<div class="row">
						<div class="col-lg-12 col-sm-12 col-12">
							<div id="time-info">
								<span id="time-text"></span>
								<button id="play-pause-bt" class="btn btn-primary btn-sm time-button"
									style="border-width: 0px; border-radius: 10px; background: #3174ff; color: #ffffff;">Dự
									báo 3600x</button>
								<input type="range" id="time-slider" min="0" max="11" step="1">
								<br />
								<br />
							</div>

							<div id="variable-name">Gió</div>
							<div id="pointer-data"></div>
							<div id="map" style="height: 840px; width: 100%; position: relative;">
								<ul id="buttons">
									<li id="precipitation" class="btn btn-primary button">Lượng mưa</li>
									<li id="pressure" class="btn btn-primary button">Áp suất<table></table>
									</li>
									<li id="radar" class="btn btn-primary button">Mây</li>
									<li id="temperature" class="btn btn-primary button">Nhiệt độ</li>
									<li id="wind" class="btn btn-primary button">Gió</li>
								</ul>
								<div style="z-index: 1000; position: absolute; top: 0;">
									<img src="/assets/image/vungtrong.png" />
								</div>
							</div>
							<script>

								let domain = "https://cms.htxdbscl.vn/";
								let domainFull = "https://cms.htxdbscl.vn/#/";

								function rotateCamera(timestamp) {
									map.rotateTo((timestamp / 100) % 360, { duration: 4000 });
									requestAnimationFrame(rotateCamera);
								}

								maptilersdk.config.apiKey = '6iFTqps4QVACLERa26MA';

								const weatherLayers = {
									"precipitation": {
										"layer": null,
										"value": "value",
										"units": " mm"
									},
									"pressure": {
										"layer": null,
										"value": "value",
										"units": " hPa"
									},
									"radar": {
										"layer": null,
										"value": "value",
										"units": " dBZ"
									},
									"temperature": {
										"layer": null,
										"value": "value",
										"units": "°"
									},
									"wind": {
										"layer": null,
										"value": "speedMetersPerSecond",
										"units": " m/s"
									}
								};

								latitude = 9.6728475;
								longitude = 105.518659;
								const map = (window.map = new maptilersdk.Map({
									container: 'map', // container's id or the HTML element to render the map
									style: maptilersdk.MapStyle.BACKDROP,  // stylesheet location
									zoom: 8,
									center: [longitude, latitude],
									fullscreenControl: true,
									pitch: 45,
									hash: true,
								}));

								const initWeatherLayer = "wind";
								const timeInfoContainer = document.getElementById("time-info");
								const timeTextDiv = document.getElementById("time-text");
								const timeSlider = document.getElementById("time-slider");
								const playPauseButton = document.getElementById("play-pause-bt");
								const pointerDataDiv = document.getElementById("pointer-data");
								let pointerLngLat = null;
								let activeLayer = null;
								let isPlaying = false;
								let currentTime = null;

								timeSlider.addEventListener("input", (evt) => {
									const weatherLayer = weatherLayers[activeLayer]?.layer;
									if (weatherLayer) {
										weatherLayer.setAnimationTime(parseInt(timeSlider.value / 1000));
									}
								});

								// When clicking on the play/pause
								playPauseButton.addEventListener("click", () => {
									const weatherLayer = weatherLayers[activeLayer]?.layer;
									if (weatherLayer) {
										if (isPlaying) {
											pauseAnimation(weatherLayer);
										} else {
											playAnimation(weatherLayer);
										}
									}
								});

								function pauseAnimation(weatherLayer) {
									weatherLayer.animateByFactor(0);
									playPauseButton.innerText = "Play 3600x";
									isPlaying = false;
								}

								function playAnimation(weatherLayer) {
									weatherLayer.animateByFactor(3600);
									playPauseButton.innerText = "Pause";
									isPlaying = true;
								}

								map.on('load', function () {

									//rotateCamera(Math.random());

									map.addSource("HoangSa", {
										"type": "image",
										"url": domain + "assets/image/HoangSa01.png",
										"coordinates": [
											[111.09665858054495, 17.432475898867523],
											[113.11720985517763, 17.38420482529338],
											[112.79285037220984, 15.643938718432054],
											[110.88537855035554, 15.672592116966598],

										]
									});
									map.addLayer({
										"id": "HoangSa",
										"source": "HoangSa",
										"type": "raster",
										"paint": {
											"raster-opacity": 1
										}
									});

									map.addSource("TruongSa", {
										"type": "image",
										"url": domain + "assets/image/TruongSa01.png",
										"coordinates": [
											[112.32373278444106, 12.236103169381323],
											[117.4620551483049, 11.606334626304161],
											[115.59654957671216, 7.357025445897818],
											[110.62186805246108, 7.811210355974268],


										]
									});
									map.addLayer({
										"id": "TruongSa",
										"source": "TruongSa",
										"type": "raster",
										"paint": {
											"raster-opacity": 1
										}
									});

									map.setPaintProperty("Water", 'fill-color', "rgba(0, 0, 0, 0.4)");
									initWeatherMap(initWeatherLayer);
								});

								map.on('mouseout', function (evt) {
									if (!evt.originalEvent.relatedTarget) {
										pointerDataDiv.innerText = "";
										pointerLngLat = null;
									}
								});

								function updatePointerValue(lngLat) {
									if (!lngLat) return;
									pointerLngLat = lngLat;
									const weatherLayer = weatherLayers[activeLayer]?.layer;
									const weatherLayerValue = weatherLayers[activeLayer]?.value;
									const weatherLayerUnits = weatherLayers[activeLayer]?.units;
									if (weatherLayer) {
										const value = weatherLayer.pickAt(lngLat.lng, lngLat.lat);
										if (!value) {
											pointerDataDiv.innerText = "";
											return;
										}
										pointerDataDiv.innerText = `${value[weatherLayerValue].toFixed(1)}${weatherLayerUnits}`
									}
								}

								map.on('mousemove', (e) => {
									updatePointerValue(e.lngLat);
								});

								document.getElementById('buttons').addEventListener('click', function (event) {
									// Change layer based on button id
									changeWeatherLayer(event.target.id);
								});

								function changeWeatherLayer(type) {
									if (type !== activeLayer) {
										if (map.getLayer(activeLayer)) {
											const activeWeatherLayer = weatherLayers[activeLayer]?.layer;
											if (activeWeatherLayer) {
												currentTime = activeWeatherLayer.getAnimationTime();
												map.setLayoutProperty(activeLayer, 'visibility', 'none');
											}
										}
										activeLayer = type;
										const weatherLayer = weatherLayers[activeLayer].layer || createWeatherLayer(activeLayer);
										if (map.getLayer(activeLayer)) {
											map.setLayoutProperty(activeLayer, 'visibility', 'visible');
										} else {
											map.addLayer(weatherLayer, 'Water');
										}
										changeLayerLabel(activeLayer);
										activateButton(activeLayer);
										changeLayerAnimation(weatherLayer);
										return weatherLayer;
									}
								}

								function activateButton(activeLayer) {
									const buttons = document.getElementsByClassName('button');
									for (let i = 0; i < buttons.length; i++) {
										const btn = buttons[i];
										if (btn.id === activeLayer) {
											btn.classList.add('active');
										} else {
											btn.classList.remove('active');
										}
									}
								}

								function changeLayerAnimation(weatherLayer) {
									weatherLayer.setAnimationTime(parseInt(timeSlider.value / 1000));
									if (isPlaying) {
										playAnimation(weatherLayer);
									} else {
										pauseAnimation(weatherLayer);
									}
								}

								function createWeatherLayer(type) {
									let weatherLayer = null;
									switch (type) {
										case 'precipitation':
											weatherLayer = new maptilerweather.PrecipitationLayer({ id: 'precipitation' });
											break;
										case 'pressure':
											weatherLayer = new maptilerweather.PressureLayer({
												opacity: 0.8,
												id: 'pressure'
											});
											break;
										case 'radar':
											weatherLayer = new maptilerweather.RadarLayer({
												opacity: 0.8,
												id: 'radar'
											});
											break;
										case 'temperature':
											weatherLayer = new maptilerweather.TemperatureLayer({
												colorramp: maptilerweather.ColorRamp.builtin.TEMPERATURE_3,
												id: 'temperature'
											});
											break;
										case 'wind':
											weatherLayer = new maptilerweather.WindLayer({ id: 'wind' });
											break;
									}

									// Called when the animation is progressing
									weatherLayer.on("tick", event => {
										refreshTime();
										updatePointerValue(pointerLngLat);
									});

									// Called when the time is manually set
									weatherLayer.on("animationTimeSet", event => {
										refreshTime();
									});

									// Event called when all the datasource for the next days are added and ready.
									// From now on, the layer nows the start and end dates.
									weatherLayer.on("sourceReady", event => {
										const startDate = weatherLayer.getAnimationStartDate();
										const endDate = weatherLayer.getAnimationEndDate();
										if (timeSlider.min > 0) {
											weatherLayer.setAnimationTime(currentTime);
											changeLayerAnimation(weatherLayer);
										} else {
											const currentDate = weatherLayer.getAnimationTimeDate();
											timeSlider.min = +startDate;
											timeSlider.max = +endDate;
											timeSlider.value = +currentDate;
										}
									});

									weatherLayers[type].layer = weatherLayer;
									return weatherLayer;
								}

								// Update the date time display
								function refreshTime() {
									const weatherLayer = weatherLayers[activeLayer]?.layer;
									if (weatherLayer) {
										const d = weatherLayer.getAnimationTimeDate();
										timeTextDiv.innerText = d.toString();
										timeSlider.value = +d;
									}
								}

								function changeLayerLabel(type) {
									document.getElementById("variable-name").innerText = type;
								}

								function initWeatherMap(type) {
									const weatherLayer = changeWeatherLayer(type);
								}
								MapLoad();

								function MapLoad() {

									let SearchString = "";
									let DanhMucTinhThanhID = 0;
									if (DanhMucTinhThanhID == undefined) {
										DanhMucTinhThanhID = 0;
									}
									if (DanhMucTinhThanhID == null) {
										DanhMucTinhThanhID = 0;
									}
									if (DanhMucTinhThanhID == 0) {
										zoom = 8;
									}
									else {
										zoom = 10;
									}


									let json = {
										DanhMucTinhThanhID: DanhMucTinhThanhID,
										SearchString: SearchString,
										Active: 1,
									}
									$.ajax({
										type: 'POST',
										url: 'https://api.cms.htxdbscl.vn/api/v1/ToChuc/GetSQLByToChucToaDoByActive_DanhMucTinhThanhID_SearchStringToListAsync',
										data: {
											data: JSON.stringify(json)
										},
										dataType: 'json',
										success: function (data) {
											let listToChuc = data;
											if (listToChuc) {
												if (listToChuc.length > 0) {

													latitude = Number(listToChuc[0].ViDo);
													longitude = Number(listToChuc[0].KinhDo);



													for (let i = 0; i < listToChuc.length; i++) {
														let toChuc = listToChuc[i];
														if (toChuc.KinhDo && toChuc.KinhDo.length > 0) {
															if (toChuc.ViDo && toChuc.ViDo.length > 0) {


																let latitudeSub = Number(toChuc.ViDo);
																let longitudeSub = Number(toChuc.KinhDo);


																if (latitudeSub <= 90) {

																	let popupContent = "<div style='opacity: 0.8; text-align: center; background-color: transparent;'>";
																	popupContent = popupContent + "<a class='link-primary form-label' style='cursor: pointer;' onclick='OpenWindowByToChuc(" + toChuc.ID + ")'><h1>" + toChuc.Name + "</h1></a>";
																	popupContent = popupContent + '<div><b>' + toChuc.DanhMucXaPhuongName + ', ' + toChuc.DanhMucQuanHuyenName + ', ' + toChuc.DanhMucTinhThanhName + '</b></div>';
																	popupContent = popupContent + "</div>";


																	let popup = new maptilersdk.Popup({ offset: 25 }).setHTML(popupContent)
																		.setMaxWidth("600px");
																	popup.on('open', function () {

																	});
																	var el = document.createElement('div');
																	el.style.backgroundImage = 'url(' + domain + 'assets/image/HTX4_30.png)';
																	el.style.width = '30px';
																	el.style.height = '30px';

																	let marker = new maptilersdk.Marker({ element: el })
																		.setLngLat([longitudeSub, latitudeSub])
																		.setPopup(popup)
																		.addTo(map);

																}
																else {
																	console.log(listToChuc[i]);
																}

															}
														}
													}
												}
											}
										}
									});
								}




							</script>
						</div>
					</div>
				</div>
			</div>
			<br />
			<br />
			<br />
		</div>
	</div>
	<div class="container-fluid" id="FooterBottom">
		<table style="width: 100%;">
			<tr>
				<td style="width: 20%; text-align: center;">
					<button class="pin-sidebar" style="background-color: #056839;">
						<i class="bi bi-list lh-1"></i>
					</button>
					<button class="toggle-sidebar" style="background-color: #056839;">
						<i class="bi bi-list lh-1"></i>
					</button>
				</td>
				<td style="width: 20%; text-align: center;">
					<a href="/#/Map" title="Bản đồ" style="padding: 5px; color: #056839;"><b><i
								style="font-size: 20px;" class="bi bi-globe2"></i></b></a>
				</td>
				<td style="width: 20%; text-align: center;">
					<div style="margin-top:-40px;">
						<a href="/#/ThongKe" title="Hợp tác xã" style="padding: 5px;">
							<img width="50px" height="50px" src="/assets/image/logo.png" /></a>

					</div>
				</td>
				<td style="width: 20%; text-align: center;">
					<a href="/#/Dashboard" title="Top" style="padding: 5px; color: #056839;"><b><i
								style="font-size: 20px;" class="bi bi-bar-chart-fill"></i></b></a>
				</td>
				<td style="width: 20%; text-align: center;">
					<a id="PageTop" href='javascript:OnTopPage();' title="Về đầu trang"
						style="padding: 5px; color: #056839;"><b><span style="font-size: 20px;"
								class="bi bi-arrow-up-circle-fill"></span></b></a>
					<button class="MobileIntall" title="Cài vào điện
								thoại" style="border-width: 0px; color: #056839; background-color: transparent;"><i
							class="bi bi-tablet-fill"></i></button>
				</td>
			</tr>
		</table>
	</div>
	<script src="/assets/js/jquery.min.js"></script>
	<script src="/assets/js/bootstrap.bundle.min.js"></script>
	<script src="/assets/js/moment.min.js"></script>
	<script src="/assets/vendor/overlay-scroll/jquery.overlayScrollbars.min.js"></script>
	<script src="/assets/vendor/overlay-scroll/custom-scrollbar.js"></script>
	<script src="/assets/vendor/datatables/dataTables.min.js"></script>
	<script src="/assets/vendor/datatables/dataTables.bootstrap.min.js"></script>
	<script src="/assets/vendor/datatables/custom/custom-datatables.js"></script>
	<script src="/assets/js/custom.js"></script>

	<script type="text/javascript">
		if ('serviceWorker' in navigator) {
			console.log("Will the service worker register?");
			navigator.serviceWorker.register('service-worker.js')
				.then(function (reg) {
					console.log("Yes, it did.");
				}).catch(function (err) {
					console.log("No it didn't. This happened:", err)
				});
		}

		let deferredPrompt;
		var mobileIntall = document.querySelector('.MobileIntall');
		mobileIntall.style.display = 'none';
		document.getElementById("PageTop").style.display = 'inline';

		window.addEventListener('beforeinstallprompt', (e) => {
			// Prevent Chrome 67 and earlier from automatically showing the prompt
			e.preventDefault();
			// Stash the event so it can be triggered later.
			deferredPrompt = e;
			mobileIntall.style.display = 'inline';
			document.getElementById("PageTop").style.display = 'none';

			mobileIntall.addEventListener('click', (e) => {
				// hide our user interface that shows our A2HS button
				mobileIntall.style.display = 'none';
				document.getElementById("PageTop").style.display = 'inline';
				// Show the prompt
				deferredPrompt.prompt();
				// Wait for the user to respond to the prompt
				deferredPrompt.userChoice
					.then((choiceResult) => {
						if (choiceResult.outcome === 'accepted') {
							console.log('User accepted the A2HS prompt');
						} else {
							console.log('User dismissed the A2HS prompt');
						}
						deferredPrompt = null;
					});
			});
		});
	</script>

</body>

</html>