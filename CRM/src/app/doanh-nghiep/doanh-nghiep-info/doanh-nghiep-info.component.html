<div class="row">
    <div id="breadcrumbs-wrapper" data-image="https://crm.vnptvungtau.vn/app-assets/images/gallery/breadcrumb-bg.jpg"
        style="color: #ffffff; background: rgb(40,70,99); background: linear-gradient(90deg, rgba(40,70,99,1) 0%, rgba(62,110,159,1) 35%, rgba(106,179,245,1) 100%);">
        <div class="container">
            <div class="row">
                <div class="col s12 m6 l6">
                    <h5 class="breadcrumbs-title mt-0 mb-0" style="color: #ffffff;">Doanh nghiệp
                    </h5>
                </div>
                <div class="col s12 m6 l6 right-align-md">
                    <ol class="breadcrumbs mb-0">
                        <li class="breadcrumb-item"><a href="#" style="color: #ffffff;">CRM</a>
                        </li>
                        <li class="breadcrumb-item active" style="color: #ffffff;">Doanh nghiệp
                        </li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
    <div class="col s12">
        <div class="container">
            <div class="section">
                <div class="row">
                    <div class="col s12 m12 l12">
                        <div id="basic-tabs" class="card card card-default scrollspy">
                            <div class="card-content">
                                <div class="card-title">
                                    <div class="row">
                                        <div class="col s12 m12 l6">
                                            <h5 class="card-title" style="font-size: 14px;">
                                                <b>{{DoanhNghiepService.formData.Name}}</b>
                                            </h5>
                                        </div>
                                        <div class="col s12 m12 l6">
                                            <ul class="tabs">
                                                <li class="tab col m3 s12 p-0"><a class="active p-0" href="#1">Thông
                                                        tin</a></li>
                                                <!-- <li class="tab col m3 s12 p-0"><a class="p-0" href="#2">Thành viên</a>
                                                </li> -->
                                                <li class="tab col m3 s12 p-0"><a class="p-0" href="#2">Gói cước</a>
                                                </li>
                                                <li class="tab col m3 s12 p-0"><a class="p-0" href="#3">Doanh thu</a>
                                                </li>
                                                <li class="tab col m3 s12 p-0"><a class="p-0" href="#4">Thống kê</a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div id="1">
                                    <div class="row">
                                        <form autocomplete="off" class="row" #form="ngForm" (submit)="onSubmit(form)">
                                            <div class="col s6 m6 l12">
                                                <div class="card-title">
                                                    <a title="Danh sách"
                                                        href="javascript:window.open('','_self').close();"
                                                        style="padding-top: 3px;"
                                                        class="btn-floating waves-effect waves-light green darken-1"><i
                                                            class="material-icons">arrow_back</i></a>&nbsp;&nbsp;&nbsp;
                                                    <a title="Thêm mới" href="{{URLSub}}/0" style="padding-top: 3px;"
                                                        class="btn-floating waves-effect waves-light green darken-1"><i
                                                            class="material-icons">add</i></a>&nbsp;&nbsp;&nbsp;
                                                    <button [disabled]="!DoanhNghiepService.formData.Name"
                                                        title="Lưu thay đổi" type="submit" style="padding-top: 3px;"
                                                        class="btn-floating waves-effect waves-light cyan"><i
                                                            class="material-icons">save</i></button>&nbsp;&nbsp;&nbsp;
                                                </div>
                                            </div>
                                            <input name="ID" [(ngModel)]="DoanhNghiepService.formData.ID" type="hidden">
                                            <div class="col s12 m12 l4">
                                                <div class="col s12 m12 l4">
                                                    <div class="input-field">
                                                        <label for="Name">Doanh nghiệp</label>
                                                    </div>
                                                </div>
                                                <div class="col s12 m12 l8">
                                                    <div class="input-field">
                                                        <input name="Name"
                                                            [(ngModel)]="DoanhNghiepService.formData.Name"
                                                            placeholder="Doanh nghiệp" type="text">
                                                    </div>
                                                </div>
                                                <div class="col s12 m12 l4">
                                                    <div class="input-field">
                                                        <label for="Code">Mã số</label>
                                                    </div>
                                                </div>
                                                <div class="col s12 m12 l8">
                                                    <div class="input-field">
                                                        <input name="Code"
                                                            [(ngModel)]="DoanhNghiepService.formData.Code"
                                                            placeholder="Mã số" type="text">
                                                    </div>
                                                </div>
                                                <div class="col s12 m12 l4">
                                                    <div class="input-field">
                                                        <label for="DienThoai">Điện thoại</label>
                                                    </div>
                                                </div>
                                                <div class="col s12 m12 l8">
                                                    <div class="input-field">
                                                        <input name="DienThoai"
                                                            [(ngModel)]="DoanhNghiepService.formData.DienThoai"
                                                            placeholder="Điện thoại" type="text">
                                                    </div>
                                                </div>
                                                <div class="col s12 m12 l4">
                                                    <div class="input-field">
                                                        <label for="Email">Email</label>
                                                    </div>
                                                </div>
                                                <div class="col s12 m12 l8">
                                                    <div class="input-field">
                                                        <input name="Email"
                                                            [(ngModel)]="DoanhNghiepService.formData.Email"
                                                            placeholder="Email" type="text">
                                                    </div>
                                                </div>
                                                <div class="col s12 m12 l4">
                                                    <div class="input-field">
                                                        <label for="DiaChi">Địa chỉ</label>
                                                    </div>
                                                </div>
                                                <div class="col s12 m12 l8">
                                                    <div class="input-field">
                                                        <input name="DiaChi"
                                                            [(ngModel)]="DoanhNghiepService.formData.DiaChi"
                                                            placeholder="Địa chỉ" type="text">
                                                    </div>
                                                </div>
                                                <div class="col s12 m12 l4">
                                                    <div class="input-field">
                                                        <label for="NganhNgheKinhDoanh">Ngành nghề</label>
                                                    </div>
                                                </div>
                                                <div class="col s12 m12 l8">
                                                    <div class="input-field">
                                                        <input name="NganhNgheKinhDoanh"
                                                            [(ngModel)]="DoanhNghiepService.formData.NganhNgheKinhDoanh"
                                                            placeholder="Ngành nghề" type="text">
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="col s12 m12 l4">
                                                <div class="col s12 m12 l4">
                                                    <div class="input-field">
                                                        <label for="NgayCap">Ngày cấp</label>
                                                    </div>
                                                </div>
                                                <div class="col s12 m12 l8">
                                                    <div class="input-field">
                                                        <input name="NgayCap"
                                                            style="text-align: right; font-weight: bold; width: 100%;"
                                                            [ngModel]="DoanhNghiepService.formData.NgayCap | date:'yyyy-MM-dd'"
                                                            (ngModelChange)="onChangeNgayCap($event)"
                                                            [ngModelOptions]="{ updateOn: 'blur' }" type="date">
                                                    </div>
                                                </div>
                                                <div class="col s12 m12 l4">
                                                    <div class="input-field">
                                                        <label for="NgayDangKyThayDoi">Ngày thay đổi</label>
                                                    </div>
                                                </div>
                                                <div class="col s12 m12 l8">
                                                    <div class="input-field">
                                                        <input name="NgayDangKyThayDoi"
                                                            style="text-align: right; font-weight: bold; width: 100%;"
                                                            [ngModel]="DoanhNghiepService.formData.NgayDangKyThayDoi | date:'yyyy-MM-dd'"
                                                            (ngModelChange)="onChangeNgayDangKyThayDoi($event)"
                                                            [ngModelOptions]="{ updateOn: 'blur' }" type="date">
                                                    </div>
                                                </div>
                                                <div class="col s4 m4 l4">
                                                    <div class="input-field">
                                                        <label for="VonDieuLe">Vốn điều lệ</label>
                                                    </div>
                                                </div>
                                                <div class="col s8 m8 l8">
                                                    <div class="input-field">
                                                        <input placeholder="Vốn điều lệ" name="VonDieuLe"
                                                            style="text-align: right; font-weight: bold;"
                                                            [(ngModel)]="DoanhNghiepService.formData.VonDieuLe"
                                                            type="number">
                                                    </div>
                                                </div>
                                                <div class="col s4 m4 l4">
                                                    <div class="input-field">
                                                        <label for="SoLuongLaoDong">Số lao động</label>
                                                    </div>
                                                </div>
                                                <div class="col s8 m8 l8">
                                                    <div class="input-field">
                                                        <input placeholder="Số lao động" name="SoLuongLaoDong"
                                                            style="text-align: right; font-weight: bold;"
                                                            [(ngModel)]="DoanhNghiepService.formData.SoLuongLaoDong"
                                                            type="number">
                                                    </div>
                                                </div>
                                                <div class="col s12 m12 l4">
                                                    <div class="input-field">
                                                        <label for="Note">Ghi chú</label>
                                                    </div>
                                                </div>
                                                <div class="col s12 m12 l8">
                                                    <div class="input-field">
                                                        <input name="Note"
                                                            [(ngModel)]="DoanhNghiepService.formData.Note"
                                                            placeholder="Ghi chú" type="text">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col s12 m12 l4">
                                                <div class="col s6 m6 l4">
                                                    <div class="input-field">
                                                        <label for="NhanVienID">Nhân viên AM</label>
                                                    </div>
                                                </div>
                                                <div class="col s6 m6 l8">
                                                    <mat-select
                                                        style="padding-top:30px; padding-bottom:10px; border-bottom-color: #000000; border-bottom-width: 1px; border-bottom-style: solid;"
                                                        name="NhanVienID" class="browser-default"
                                                        [(ngModel)]="DoanhNghiepService.formData.NhanVienID">
                                                        <mat-option *ngFor="let item of NhanVienService.list"
                                                            [value]="item.ID">
                                                            {{item.Name}}
                                                        </mat-option>
                                                    </mat-select>
                                                    <br />
                                                    <br />
                                                </div>
                                                <div class="col s6 m6 l4">
                                                    <div class="input-field">
                                                        <label for="HuyenID">Huyện</label>
                                                    </div>
                                                </div>
                                                <div class="col s6 m6 l8">
                                                    <mat-select
                                                        style="padding-top:30px; padding-bottom:10px; border-bottom-color: #000000; border-bottom-width: 1px; border-bottom-style: solid;"
                                                        name="HuyenID" class="browser-default"
                                                        [(ngModel)]="DoanhNghiepService.formData.HuyenID">
                                                        <mat-option *ngFor="let item of HuyenService.list"
                                                            [value]="item.ID">
                                                            {{item.Name}}
                                                        </mat-option>
                                                    </mat-select>
                                                    <br />
                                                    <br />
                                                </div>
                                                <div class="col s6 m6 l4">
                                                    <div class="input-field">
                                                        <label for="XaID">Xã</label>
                                                    </div>
                                                </div>
                                                <div class="col s6 m6 l8">
                                                    <mat-select
                                                        style="padding-top:30px; padding-bottom:10px; border-bottom-color: #000000; border-bottom-width: 1px; border-bottom-style: solid;"
                                                        name="XaID" class="browser-default"
                                                        [(ngModel)]="DoanhNghiepService.formData.XaID">
                                                        <mat-option *ngFor="let item of XaService.list"
                                                            [value]="item.ID">
                                                            {{item.Name}}
                                                        </mat-option>
                                                    </mat-select>
                                                    <br />
                                                    <br />
                                                </div>
                                                <div class="col s6 m6 l4">
                                                    <div class="input-field">
                                                        <label for="NganhNgheKinhDoanhChinhID">Ngành nghề chính</label>
                                                    </div>
                                                </div>
                                                <div class="col s6 m6 l8">
                                                    <mat-select
                                                        style="padding-top:30px; padding-bottom:10px; border-bottom-color: #000000; border-bottom-width: 1px; border-bottom-style: solid;"
                                                        name="NganhNgheKinhDoanhChinhID" class="browser-default"
                                                        [(ngModel)]="DoanhNghiepService.formData.NganhNgheKinhDoanhChinhID">
                                                        <mat-option *ngFor="let item of NganhNgheKinhDoanhService.list"
                                                            [value]="item.ID">
                                                            {{item.Name}}
                                                        </mat-option>
                                                    </mat-select>
                                                    <br />
                                                    <br />
                                                </div>
                                                <div class="col s6 m6 l4">
                                                    <div class="input-field">
                                                        <label for="LoaiDoanhNghiepID">Loại doanh nghiệp</label>
                                                    </div>
                                                </div>
                                                <div class="col s6 m6 l8">
                                                    <mat-select
                                                        style="padding-top:30px; padding-bottom:10px; border-bottom-color: #000000; border-bottom-width: 1px; border-bottom-style: solid;"
                                                        name="LoaiDoanhNghiepID" class="browser-default"
                                                        [(ngModel)]="DoanhNghiepService.formData.LoaiDoanhNghiepID">
                                                        <mat-option *ngFor="let item of LoaiDoanhNghiepService.list"
                                                            [value]="item.ID">
                                                            {{item.Name}}
                                                        </mat-option>
                                                    </mat-select>
                                                    <br />
                                                    <br />
                                                </div>
                                                <div class="col s6 m6 l4">
                                                    <div class="input-field">
                                                        <label for="LoaiTrangThaiID">Trạng thái</label>
                                                    </div>
                                                </div>
                                                <div class="col s6 m6 l8">
                                                    <mat-select
                                                        style="padding-top:30px; padding-bottom:10px; border-bottom-color: #000000; border-bottom-width: 1px; border-bottom-style: solid;"
                                                        name="LoaiTrangThaiID" class="browser-default"
                                                        [(ngModel)]="DoanhNghiepService.formData.LoaiTrangThaiID">
                                                        <mat-option *ngFor="let item of LoaiTrangThaiService.list"
                                                            [value]="item.ID">
                                                            {{item.Name}}
                                                        </mat-option>
                                                    </mat-select>
                                                    <br />
                                                    <br />
                                                </div>

                                            </div>
                                        </form>
                                    </div>
                                    <hr />
                                    <div class="KhungOverflow">
                                        <mat-table [dataSource]="dataSourceDoanhNghiepThanhVien" matSort>
                                            <ng-container matColumnDef="LoaiDoanhNghiepThanhVienID">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Thành viên
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element" style="margin-right: 10px;">
                                                    <mat-select
                                                        style="padding-top:10px; padding-bottom:6px; border-bottom-color: #000000; border-bottom-width: 1px; border-bottom-style: solid;"
                                                        name="LoaiDoanhNghiepThanhVienID{{element.ID}}"
                                                        class="browser-default"
                                                        [(ngModel)]="element.LoaiDoanhNghiepThanhVienID">
                                                        <mat-option
                                                            *ngFor="let item of LoaiDoanhNghiepThanhVienService.list"
                                                            [value]="item.ID">
                                                            {{item.Name}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="Name">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Họ tên
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element" style="margin-right: 10px;">
                                                    <input placeholder="Họ tên" name="Name{{element.ID}}"
                                                        [(ngModel)]="element.Name" type="text">
                                                </mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="DienThoai">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Điện thoại
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element" style="margin-right: 10px;">
                                                    <input placeholder="Điện thoại" name="DienThoai{{element.ID}}"
                                                        [(ngModel)]="element.DienThoai" type="text">
                                                </mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="Email">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Email
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element" style="margin-right: 10px;">
                                                    <input placeholder="Email" name="Name{{element.ID}}"
                                                        [(ngModel)]="element.Name" type="text">
                                                </mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="NgaySinh">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Ngày sinh
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element" style="margin-right: 10px;">
                                                    <input name="NgaySinh{{element.ID}}" style="text-align: right;"
                                                        [ngModel]="element.NgaySinh | date:'yyyy-MM-dd'"
                                                        (ngModelChange)="onChangeDoanhNghiepThanhVienNgaySinh(element, $event)"
                                                        [ngModelOptions]="{ updateOn: 'blur' }" type="date">
                                                </mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="CCCD">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>CCCD
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element" style="margin-right: 10px;">
                                                    <input placeholder="CCCD" name="CCCD{{element.ID}}"
                                                        [(ngModel)]="element.CCCD" type="text">
                                                </mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="CCCD_NgayCap">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Ngày cấp
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element" style="margin-right: 10px;">
                                                    <input name="CCCD_NgayCap{{element.ID}}" style="text-align: right;"
                                                        [ngModel]="element.CCCD_NgayCap | date:'yyyy-MM-dd'"
                                                        (ngModelChange)="onChangeDoanhNghiepThanhVienCCCD_NgayCap(element, $event)"
                                                        [ngModelOptions]="{ updateOn: 'blur' }" type="date">
                                                </mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="CCCD_NoiCap">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Nơi cấp
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element" style="margin-right: 10px;">
                                                    <input placeholder="Nơi cấp" name="CCCD_NoiCap{{element.ID}}"
                                                        [(ngModel)]="element.CCCD_NoiCap" type="text">
                                                </mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="Note">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Ghi chú
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element" style="margin-right: 10px;">
                                                    <input placeholder="Ghi chú" name="Note{{element.ID}}"
                                                        [(ngModel)]="element.Note" type="text">
                                                </mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="SortOrder">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Sắp xếp
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element" style="margin-right: 10px;">
                                                    <input placeholder="0" name="SortOrder{{element.ID}}"
                                                        style="text-align: right;" [(ngModel)]="element.SortOrder"
                                                        type="number">
                                                </mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="Active">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Kích hoạt
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element">
                                                    <label>
                                                        <input type="checkbox" class="filled-in"
                                                            name="Active{{element.ID}}" [(ngModel)]="element.Active" />
                                                        <span>.</span>
                                                    </label>
                                                </mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="Save">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element" style="margin-right: 10px;">
                                                    <a title="Lưu thay đổi"
                                                        (click)="onSaveDoanhNghiepThanhVien(element)"
                                                        class="btn-floating waves-effect waves-light cyan"><i
                                                            class="material-icons">save</i></a>&nbsp;&nbsp;&nbsp;
                                                    <!-- <a (click)="onDeleteDoanhNghiepThanhVien(element)" *ngIf="element.ID>0"
                                                                class="btn-floating waves-effect waves-light red"><i
                                                                    class="material-icons">delete_outline</i></a> -->
                                                </mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="loading">
                                                <mat-footer-cell *matFooterCellDef colspan="4">
                                                    Đang tải dữ liệu...
                                                </mat-footer-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="noData">
                                                <mat-footer-cell *matFooterCellDef colspan="4">
                                                    Chưa có dữ liệu.
                                                </mat-footer-cell>
                                            </ng-container>
                                            <mat-header-row
                                                *matHeaderRowDef="DoanhNghiepThanhVienService.displayColumns"></mat-header-row>
                                            <mat-row
                                                *matRowDef="let row; columns: DoanhNghiepThanhVienService.displayColumns;"></mat-row>
                                            <mat-footer-row *matFooterRowDef="['loading']"
                                                [ngClass]="{'hide':dataSourceDoanhNghiepThanhVien!=null}"></mat-footer-row>
                                            <mat-footer-row *matFooterRowDef="['noData']"
                                                [ngClass]="{'hide':!(dataSourceDoanhNghiepThanhVien!=null && dataSourceDoanhNghiepThanhVien.data.length==0)}">
                                            </mat-footer-row>
                                        </mat-table>
                                        <mat-paginator [pageSizeOptions]="[10,20,50,100]" [pageSize]="10"
                                            [showFirstLastButtons]></mat-paginator>
                                    </div>
                                </div>
                                <div id="2">
                                    <div class="KhungOverflow">
                                        <mat-table [dataSource]="dataSourceDoanhNghiepDichVu" matSort>
                                            <ng-container matColumnDef="NhanVienID">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Nhân viên AM
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element" style="margin-right: 10px;">
                                                    <mat-select
                                                        style="padding-top:10px; padding-bottom:6px; border-bottom-color: #000000; border-bottom-width: 1px; border-bottom-style: solid;"
                                                        name="NhanVienID{{element.ID}}" class="browser-default"
                                                        [(ngModel)]="element.NhanVienID">
                                                        <mat-option *ngFor="let item of NhanVienService.list"
                                                            [value]="item.ID">
                                                            {{item.Name}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="DichVuID">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Dịch vụ
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element" style="margin-right: 10px;">
                                                    <mat-select
                                                        style="padding-top:10px; padding-bottom:6px; border-bottom-color: #000000; border-bottom-width: 1px; border-bottom-style: solid;"
                                                        name="DichVuID{{element.ID}}" class="browser-default"
                                                        [(ngModel)]="element.DichVuID">
                                                        <mat-option *ngFor="let item of DichVuService.list"
                                                            [value]="item.ID">
                                                            {{item.Name}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="NgayKyHopDong">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Ngày ký
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element" style="margin-right: 10px;">
                                                    <input name="NgayKyHopDong{{element.ID}}" style="text-align: right;"
                                                        [ngModel]="element.NgayKyHopDong | date:'yyyy-MM-dd'"
                                                        (ngModelChange)="onChangeDoanhNghiepDichVuNgayKyHopDong(element, $event)"
                                                        [ngModelOptions]="{ updateOn: 'blur' }" type="date">
                                                </mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="Code">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Số hợp đồng
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element" style="margin-right: 10px;">
                                                    <input placeholder="Số hợp đồng" name="Code{{element.ID}}"
                                                        [(ngModel)]="element.Code" type="text">
                                                </mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="MaThueBao">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Mã thuê bao
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element" style="margin-right: 10px;">
                                                    <input placeholder="Mã thuê bao" name="MaThueBao{{element.ID}}"
                                                        [(ngModel)]="element.MaThueBao" type="text">
                                                </mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="GiaTien">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Giá cước
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element" style="margin-right: 10px;">
                                                    <input placeholder="0" name="GiaTien{{element.ID}}"
                                                        style="text-align: right;" [(ngModel)]="element.GiaTien"
                                                        type="number">
                                                </mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="SoThang">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Số tháng
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element" style="margin-right: 10px;">
                                                    <input placeholder="0" name="SoThang{{element.ID}}"
                                                        style="text-align: right;" [(ngModel)]="element.SoThang"
                                                        type="number">
                                                </mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="Note">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Ghi chú
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element" style="margin-right: 10px;">
                                                    <input placeholder="Ghi chú" name="Note{{element.ID}}"
                                                        [(ngModel)]="element.Note" type="text">
                                                </mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="SortOrder">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Sắp xếp
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element" style="margin-right: 10px;">
                                                    <input placeholder="0" name="SortOrder{{element.ID}}"
                                                        style="text-align: right;" [(ngModel)]="element.SortOrder"
                                                        type="number">
                                                </mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="Active">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Kích hoạt
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element">
                                                    <label>
                                                        <input type="checkbox" class="filled-in"
                                                            name="Active{{element.ID}}" [(ngModel)]="element.Active" />
                                                        <span>.</span>
                                                    </label>
                                                </mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="Save">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element" style="margin-right: 10px;">
                                                    <a title="Lưu thay đổi" (click)="onSaveDoanhNghiepDichVu(element)"
                                                        class="btn-floating waves-effect waves-light cyan"><i
                                                            class="material-icons">save</i></a>&nbsp;&nbsp;&nbsp;
                                                    <!-- <a (click)="onDeleteDoanhNghiepDichVu(element)" *ngIf="element.ID>0"
                                                        class="btn-floating waves-effect waves-light red"><i
                                                            class="material-icons">delete_outline</i></a> -->
                                                </mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="loading">
                                                <mat-footer-cell *matFooterCellDef colspan="4">
                                                    Đang tải dữ liệu...
                                                </mat-footer-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="noData">
                                                <mat-footer-cell *matFooterCellDef colspan="4">
                                                    Chưa có dữ liệu.
                                                </mat-footer-cell>
                                            </ng-container>
                                            <mat-header-row
                                                *matHeaderRowDef="DoanhNghiepDichVuService.displayColumns"></mat-header-row>
                                            <mat-row
                                                *matRowDef="let row; columns: DoanhNghiepDichVuService.displayColumns;"></mat-row>
                                            <mat-footer-row *matFooterRowDef="['loading']"
                                                [ngClass]="{'hide':dataSourceDoanhNghiepDichVu!=null}"></mat-footer-row>
                                            <mat-footer-row *matFooterRowDef="['noData']"
                                                [ngClass]="{'hide':!(dataSourceDoanhNghiepDichVu!=null && dataSourceDoanhNghiepDichVu.data.length==0)}">
                                            </mat-footer-row>
                                        </mat-table>
                                        <mat-paginator [pageSizeOptions]="[10,20,50,100]" [pageSize]="10"
                                            [showFirstLastButtons]></mat-paginator>
                                    </div>
                                </div>
                                <div id="3">
                                    <div class="col s12 m12 l2">
                                        <mat-select
                                            style="padding-top:14px; padding-bottom:10px; border-bottom-color: #000000; border-bottom-width: 1px; border-bottom-style: solid;"
                                            name="year" class="browser-default" [(ngModel)]="year">
                                            <mat-option *ngFor="let item of DownloadService.listYear"
                                                [value]="item.Display">
                                                {{item.Display}}
                                            </mat-option>
                                        </mat-select>
                                    </div>
                                    <div class="col s12 m12 l2">
                                        <mat-select
                                            style="padding-top:14px; padding-bottom:10px; border-bottom-color: #000000; border-bottom-width: 1px; border-bottom-style: solid;"
                                            name="month" class="browser-default" [(ngModel)]="month">
                                            <mat-option *ngFor="let item of DownloadService.listMonth"
                                                [value]="item.Display">
                                                {{item.Display}}
                                            </mat-option>
                                        </mat-select>
                                    </div>
                                    <div class="col s12 m12 l2">
                                        <a title="Tìm" (click)="onSearchDoanhNghiepDichVuLichSu()"
                                            class="btn-floating waves-effect waves-light green darken-1"><i
                                                class="material-icons">search</i></a>&nbsp;&nbsp;&nbsp;
                                    </div>
                                    <div class="col s8 m8 l6">
                                        <div class="input-field">
                                            <div name="DoanhThuByMonth"
                                                style="font-weight: bold; color: green; text-align: right; font-size: 20px;">
                                                Doanh thu: {{doanhThuByMonth | number:
                                                '1.0-0'}} đồng
                                            </div>
                                        </div>
                                    </div>
                                    <div class="KhungOverflow">
                                        <mat-table [dataSource]="dataSourceDoanhNghiepDichVuLichSu" matSort>
                                            <ng-container matColumnDef="DichVuID">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Dịch vụ
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element" style="margin-right: 10px;">
                                                    <mat-select
                                                        style="padding-top:10px; padding-bottom:6px; border-bottom-color: #000000; border-bottom-width: 1px; border-bottom-style: solid;"
                                                        name="DichVuID{{element.ID}}" class="browser-default"
                                                        [(ngModel)]="element.DichVuID">
                                                        <mat-option *ngFor="let item of DichVuService.list"
                                                            [value]="item.ID">
                                                            {{item.Name}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="Year">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Năm
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element" style="margin-right: 10px;">
                                                    <mat-select
                                                        style="padding-top:10px; padding-bottom:6px; border-bottom-color: #000000; border-bottom-width: 1px; border-bottom-style: solid;"
                                                        name="Year{{element.ID}}" class="browser-default"
                                                        [(ngModel)]="element.Year">
                                                        <mat-option *ngFor="let item of DownloadService.listYear"
                                                            [value]="item.Display">
                                                            {{item.Display}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="Month">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Tháng
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element" style="margin-right: 10px;">
                                                    <mat-select
                                                        style="padding-top:10px; padding-bottom:6px; border-bottom-color: #000000; border-bottom-width: 1px; border-bottom-style: solid;"
                                                        name="Month{{element.ID}}" class="browser-default"
                                                        [(ngModel)]="element.Month">
                                                        <mat-option *ngFor="let item of DownloadService.listMonth"
                                                            [value]="item.Display">
                                                            {{item.Display}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="GiaTien">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Doanh thu
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element" style="margin-right: 10px;">
                                                    <input placeholder="0" name="GiaTien{{element.ID}}"
                                                        style="text-align: right;" [(ngModel)]="element.GiaTien"
                                                        type="number">
                                                </mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="Note">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Ghi chú
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element" style="margin-right: 10px;">
                                                    <input placeholder="Ghi chú" name="Note{{element.ID}}"
                                                        [(ngModel)]="element.Note" type="text">
                                                </mat-cell>
                                            </ng-container>
                                            <!-- <ng-container matColumnDef="SortOrder">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Sắp xếp
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element" style="margin-right: 10px;">
                                                    <input placeholder="0" name="SortOrder{{element.ID}}"
                                                        style="text-align: right;" [(ngModel)]="element.SortOrder"
                                                        type="number">
                                                </mat-cell>
                                            </ng-container> -->
                                            <ng-container matColumnDef="Active">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Kích hoạt
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element">
                                                    <label>
                                                        <input type="checkbox" class="filled-in"
                                                            name="Active{{element.ID}}" [(ngModel)]="element.Active" />
                                                        <span>.</span>
                                                    </label>
                                                </mat-cell>
                                            </ng-container>
                                            <!-- <ng-container matColumnDef="Save">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element" style="margin-right: 10px;">
                                                    <a title="Lưu thay đổi"
                                                        (click)="onSaveDoanhNghiepDichVuLichSu(element)"
                                                        class="btn-floating waves-effect waves-light cyan"><i
                                                            class="material-icons">save</i></a>&nbsp;&nbsp;&nbsp;
                                                    <a (click)="onDeleteDoanhNghiepDichVu(element)" *ngIf="element.ID>0"
                                                        class="btn-floating waves-effect waves-light red"><i
                                                            class="material-icons">delete_outline</i></a>
                                                </mat-cell>
                                            </ng-container> -->
                                            <ng-container matColumnDef="loading">
                                                <mat-footer-cell *matFooterCellDef colspan="4">
                                                    Đang tải dữ liệu...
                                                </mat-footer-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="noData">
                                                <mat-footer-cell *matFooterCellDef colspan="4">
                                                    Chưa có dữ liệu.
                                                </mat-footer-cell>
                                            </ng-container>
                                            <mat-header-row
                                                *matHeaderRowDef="DoanhNghiepDichVuLichSuService.displayColumns"></mat-header-row>
                                            <mat-row
                                                *matRowDef="let row; columns: DoanhNghiepDichVuLichSuService.displayColumns;"></mat-row>
                                            <mat-footer-row *matFooterRowDef="['loading']"
                                                [ngClass]="{'hide':dataSourceDoanhNghiepDichVuLichSu!=null}"></mat-footer-row>
                                            <mat-footer-row *matFooterRowDef="['noData']"
                                                [ngClass]="{'hide':!(dataSourceDoanhNghiepDichVuLichSu!=null && dataSourceDoanhNghiepDichVuLichSu.data.length==0)}">
                                            </mat-footer-row>
                                        </mat-table>
                                        <mat-paginator [pageSizeOptions]="[10,20,50,100]" [pageSize]="10"
                                            [showFirstLastButtons]></mat-paginator>
                                    </div>
                                </div>
                                <div id="4">
                                    <div class="KhungOverflow">
                                        <mat-table [dataSource]="dataSourceReport001" matSort>
                                            <ng-container matColumnDef="DichVu">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Dịch vụ
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element">{{element.DichVu}}</mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="MaThueBao">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Mã thuê bao
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element">{{element.MaThueBao}}</mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="DoanhThu">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Tháng hiện tại
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element">{{element.Month}}/{{element.Year}}:
                                                    <b>{{element.DoanhThu | number:
                                                        '1.0-0'}} đồng</b></mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="DoanhThuLast">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Tháng liền kề
                                                </mat-header-cell>
                                                <mat-cell
                                                    *matCellDef="let element">{{element.MonthLast}}/{{element.YearLast}}:
                                                    <b>{{element.DoanhThuLast | number:
                                                        '1.0-0'}} đồng</b></mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="ChenhLech">
                                                <mat-header-cell *matHeaderCellDef mat-sort-header>Chênh lệch
                                                </mat-header-cell>
                                                <mat-cell *matCellDef="let element">
                                                    <div *ngIf="element.ChenhLech>=0"
                                                        style="color: green; text-align: right; font-weight: bold;">
                                                        {{element.ChenhLech | number:
                                                        '1.0-0'}} đồng</div>
                                                    <div *ngIf="element.ChenhLech<0"
                                                        style="color: red; text-align: right; font-weight: bold;">
                                                        {{element.ChenhLech | number:
                                                        '1.0-0'}} đồng</div>
                                                </mat-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="loading">
                                                <mat-footer-cell *matFooterCellDef colspan="4">
                                                    Đang tải dữ liệu...
                                                </mat-footer-cell>
                                            </ng-container>
                                            <ng-container matColumnDef="noData">
                                                <mat-footer-cell *matFooterCellDef colspan="4">
                                                    Chưa có dữ liệu.
                                                </mat-footer-cell>
                                            </ng-container>
                                            <mat-header-row
                                                *matHeaderRowDef="ReportService.displayColumnsReport001"></mat-header-row>
                                            <mat-row
                                                *matRowDef="let row; columns: ReportService.displayColumnsReport001;"></mat-row>
                                            <mat-footer-row *matFooterRowDef="['loading']"
                                                [ngClass]="{'hide':dataSourceReport001!=null}"></mat-footer-row>
                                            <mat-footer-row *matFooterRowDef="['noData']"
                                                [ngClass]="{'hide':!(dataSourceReport001!=null && dataSourceReport001.data.length==0)}">
                                            </mat-footer-row>
                                        </mat-table>
                                        <mat-paginator [pageSizeOptions]="[10,20,50,100]" [pageSize]="1000"
                                            [showFirstLastButtons]></mat-paginator>
                                    </div>
                                    <hr />
                                    <div class="col s12 m12 l12">
                                        <canvas baseChart [datasets]="barChartDataReport002" [labels]="barChartLabelsReport002"
                                            [options]="barChartOptionsReport002" [plugins]="barChartPluginsReport002"
                                            [legend]="barChartLegendReport002" [chartType]="barChartTypeReport002" [colors]="barChartColorsReport002">
                                        </canvas>
                                    </div>                                    
                                    <div class="col s12 m12 l12">
                                        <!-- <canvas baseChart [datasets]="barChartDataReport003" [labels]="barChartLabelsReport003"
                                            [options]="barChartOptionsReport003" [plugins]="barChartPluginsReport003"
                                            [legend]="barChartLegendReport003" [chartType]="barChartTypeReport003" [colors]="barChartColorsReport003">
                                        </canvas> -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<br />
<br />


<app-loading *ngIf="isShowLoading"></app-loading>